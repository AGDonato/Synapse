/* Design System Core Styles */

/* CSS Custom Properties for Design System */
:root {
  /* Font Size Scale */
  --ds-font-size-scale: 1;
  --ds-border-radius-scale: 1;
  
  /* Semantic Color Variables (will be set by theme provider) */
  --ds-color-background: #f9fafb;
  --ds-color-surface: #ffffff;
  --ds-color-surfaceHover: #f3f4f6;
  --ds-color-border: #e5e7eb;
  --ds-color-borderHover: #d1d5db;
  --ds-color-text: #111827;
  --ds-color-textSecondary: #4b5563;
  --ds-color-textMuted: #6b7280;
  --ds-color-primary: #3b82f6;
  --ds-color-primaryHover: #2563eb;
  --ds-color-primaryActive: #1d4ed8;
}

/* Dark Theme Variables */
:root.dark {
  --ds-color-background: #030712;
  --ds-color-surface: #111827;
  --ds-color-surfaceHover: #1f2937;
  --ds-color-border: #374151;
  --ds-color-borderHover: #4b5563;
  --ds-color-text: #f9fafb;
  --ds-color-textSecondary: #d1d5db;
  --ds-color-textMuted: #9ca3af;
  --ds-color-primary: #60a5fa;
  --ds-color-primaryHover: #93c5fd;
  --ds-color-primaryActive: #bfdbfe;
}

/* High Contrast Theme Variables */
:root.high-contrast {
  --ds-color-background: #000000;
  --ds-color-surface: #1a1a1a;
  --ds-color-surfaceHover: #333333;
  --ds-color-border: #ffffff;
  --ds-color-borderHover: #cccccc;
  --ds-color-text: #ffffff;
  --ds-color-textSecondary: #cccccc;
  --ds-color-textMuted: #999999;
  --ds-color-primary: #ffffff;
  --ds-color-primaryHover: #cccccc;
  --ds-color-primaryActive: #999999;
}

/* Font Size Scaling */
.ds-text-xs { font-size: calc(0.75rem * var(--ds-font-size-scale)); }
.ds-text-sm { font-size: calc(0.875rem * var(--ds-font-size-scale)); }
.ds-text-base { font-size: calc(1rem * var(--ds-font-size-scale)); }
.ds-text-lg { font-size: calc(1.125rem * var(--ds-font-size-scale)); }
.ds-text-xl { font-size: calc(1.25rem * var(--ds-font-size-scale)); }
.ds-text-2xl { font-size: calc(1.5rem * var(--ds-font-size-scale)); }
.ds-text-3xl { font-size: calc(1.875rem * var(--ds-font-size-scale)); }
.ds-text-4xl { font-size: calc(2.25rem * var(--ds-font-size-scale)); }

/* Border Radius Scaling */
.ds-rounded-sm { border-radius: calc(0.125rem * var(--ds-border-radius-scale)); }
.ds-rounded { border-radius: calc(0.25rem * var(--ds-border-radius-scale)); }
.ds-rounded-md { border-radius: calc(0.375rem * var(--ds-border-radius-scale)); }
.ds-rounded-lg { border-radius: calc(0.5rem * var(--ds-border-radius-scale)); }
.ds-rounded-xl { border-radius: calc(0.75rem * var(--ds-border-radius-scale)); }
.ds-rounded-2xl { border-radius: calc(1rem * var(--ds-border-radius-scale)); }
.ds-rounded-3xl { border-radius: calc(1.5rem * var(--ds-border-radius-scale)); }

/* Semantic Color Classes */
.ds-bg-background { background-color: var(--ds-color-background); }
.ds-bg-surface { background-color: var(--ds-color-surface); }
.ds-bg-primary { background-color: var(--ds-color-primary); }

.ds-text-primary { color: var(--ds-color-text); }
.ds-text-secondary { color: var(--ds-color-textSecondary); }
.ds-text-muted { color: var(--ds-color-textMuted); }

.ds-border-default { border-color: var(--ds-color-border); }

/* Hover States */
.ds-hover-surface:hover { background-color: var(--ds-color-surfaceHover); }
.ds-hover-primary:hover { background-color: var(--ds-color-primaryHover); }
.ds-hover-border:hover { border-color: var(--ds-color-borderHover); }

/* Focus States */
.ds-focus-ring {
  transition: box-shadow 0.15s ease-in-out;
}

.ds-focus-ring:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px var(--ds-color-primary), 0 0 0 4px rgba(59, 130, 246, 0.3);
}

:root.high-contrast .ds-focus-ring:focus-visible {
  box-shadow: 0 0 0 2px var(--ds-color-primary), 0 0 0 4px rgba(255, 255, 255, 0.5);
}

/* Transitions */
.ds-transition {
  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}

.ds-transition-fast { transition-duration: 100ms; }
.ds-transition-normal { transition-duration: 150ms; }
.ds-transition-slow { transition-duration: 300ms; }

/* Reduced Motion */
:root.reduced-motion *,
:root.reduced-motion *::before,
:root.reduced-motion *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

/* Layout Components */
.ds-stack {
  display: flex;
  flex-direction: column;
}

.ds-stack > * + * {
  margin-top: var(--ds-stack-space, 1rem);
}

.ds-stack[data-space="xs"] { --ds-stack-space: 0.25rem; }
.ds-stack[data-space="sm"] { --ds-stack-space: 0.5rem; }
.ds-stack[data-space="md"] { --ds-stack-space: 1rem; }
.ds-stack[data-space="lg"] { --ds-stack-space: 1.5rem; }
.ds-stack[data-space="xl"] { --ds-stack-space: 2rem; }

.ds-inline {
  display: flex;
  align-items: center;
  gap: var(--ds-inline-space, 0.5rem);
}

.ds-inline[data-space="xs"] { --ds-inline-space: 0.25rem; }
.ds-inline[data-space="sm"] { --ds-inline-space: 0.5rem; }
.ds-inline[data-space="md"] { --ds-inline-space: 1rem; }
.ds-inline[data-space="lg"] { --ds-inline-space: 1.5rem; }
.ds-inline[data-space="xl"] { --ds-inline-space: 2rem; }

/* Grid System */
.ds-grid {
  display: grid;
  gap: var(--ds-grid-gap, 1rem);
}

.ds-grid[data-gap="xs"] { --ds-grid-gap: 0.25rem; }
.ds-grid[data-gap="sm"] { --ds-grid-gap: 0.5rem; }
.ds-grid[data-gap="md"] { --ds-grid-gap: 1rem; }
.ds-grid[data-gap="lg"] { --ds-grid-gap: 1.5rem; }
.ds-grid[data-gap="xl"] { --ds-grid-gap: 2rem; }

.ds-grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
.ds-grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
.ds-grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
.ds-grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
.ds-grid-cols-6 { grid-template-columns: repeat(6, minmax(0, 1fr)); }
.ds-grid-cols-12 { grid-template-columns: repeat(12, minmax(0, 1fr)); }

/* Responsive Grid */
@media (min-width: 640px) {
  .ds-grid-cols-sm-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
  .ds-grid-cols-sm-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .ds-grid-cols-sm-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .ds-grid-cols-sm-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
}

@media (min-width: 768px) {
  .ds-grid-cols-md-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
  .ds-grid-cols-md-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .ds-grid-cols-md-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .ds-grid-cols-md-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
  .ds-grid-cols-md-6 { grid-template-columns: repeat(6, minmax(0, 1fr)); }
}

@media (min-width: 1024px) {
  .ds-grid-cols-lg-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
  .ds-grid-cols-lg-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .ds-grid-cols-lg-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .ds-grid-cols-lg-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
  .ds-grid-cols-lg-6 { grid-template-columns: repeat(6, minmax(0, 1fr)); }
  .ds-grid-cols-lg-12 { grid-template-columns: repeat(12, minmax(0, 1fr)); }
}

/* Elevation Shadows */
.ds-shadow-sm { box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05); }
.ds-shadow { box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1); }
.ds-shadow-md { box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); }
.ds-shadow-lg { box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); }
.ds-shadow-xl { box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1); }

:root.high-contrast .ds-shadow-sm,
:root.high-contrast .ds-shadow,
:root.high-contrast .ds-shadow-md,
:root.high-contrast .ds-shadow-lg,
:root.high-contrast .ds-shadow-xl {
  box-shadow: 0 0 0 1px var(--ds-color-border);
}

/* Print Styles */
@media print {
  .ds-no-print { display: none !important; }
  
  * {
    background: transparent !important;
    color: black !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }
  
  .ds-bg-primary,
  .ds-bg-surface {
    background: white !important;
  }
  
  .ds-text-primary,
  .ds-text-secondary,
  .ds-text-muted {
    color: black !important;
  }
  
  .ds-border-default {
    border-color: black !important;
  }
}